{
  "name": "resource-deployment",
  "displayName": "%extension-displayName%",
  "description": "%extension-description%",
  "version": "0.0.1",
  "publisher": "Microsoft",
  "preview": true,
  "license": "https://raw.githubusercontent.com/Microsoft/azuredatastudio/main/LICENSE.txt",
  "icon": "images/extension.png",
  "aiKey": "AIF-37eefaf0-8022-4671-a3fb-64752724682e",
  "engines": {
    "vscode": "*",
    "azdata": ">=1.6.0"
  },
  "activationEvents": [
    "onCommand:azdata.resource.deploy",
    "onCommand:azdata.openNotebookInputDialog"
  ],
  "main": "./out/main",
  "repository": {
    "type": "git",
    "url": "https://github.com/Microsoft/azuredatastudio.git"
  },
  "extensionDependencies": [
    "microsoft.mssql",
    "microsoft.notebook"
  ],
  "contributes": {
    "configuration": [
      {
        "title": "%deployment.configuration.title%",
        "properties": {
          "deployment.azdataInstallLocation": {
            "type": "string",
            "description": "%azdata-install-location-description%"
          }
        }
      }
    ],
    "commands": [
      {
        "command": "azdata.resource.deploy",
        "title": "%deploy-resource-command-name%",
        "category": "%deploy-resource-command-category%"
      },
      {
        "command": "azdata.openNotebookInputDialog",
        "title": "Open notebook input dialog",
        "category": "Notebook"
      }
    ],
    "menus": {
      "commandPalette": [
        {
          "command": "azdata.openNotebookInputDialog",
          "when": "false"
        }
      ],
      "dataExplorer/action": [
        {
          "command": "azdata.resource.deploy",
          "group": "secondary"
        }
      ]
    },
    "resourceDeploymentTypes": [
      {
        "name": "sql-image",
        "displayIndex": 2,
        "displayName": "%resource-type-sql-image-display-name%",
        "description": "%resource-type-sql-image-description%",
        "platforms": "*",
        "icon": {
          "light": "./images/sql_server_container.svg",
          "dark": "./images/sql_server_container_inverse.svg"
        },
        "options": [
          {
            "name": "version",
            "displayName": "%version-display-name%",
            "values": [
              {
                "name": "sql2019",
                "displayName": "%sql-2019-display-name%"
              },
              {
                "name": "sql2017",
                "displayName": "%sql-2017-display-name%"
              }
            ]
          }
        ],
        "providers": [
          {
            "dialog": {
              "notebook": "%sql-2017-docker-notebook%",
              "title": "%docker-sql-2017-title%",
              "name": "docker-sql-2017-dialog",
              "tabs": [
                {
                  "title": "",
                  "sections": [
                    {
                      "title": "",
                      "fields": [
                        {
                          "label": "%docker-container-name-field%",
                          "variableName": "AZDATA_NB_VAR_DOCKER_CONTAINER_NAME",
                          "type": "datetime_text",
                          "defaultValue": "SQL2017-",
                          "required": true
                        },
                        {
                          "label": "%docker-sql-password-field%",
                          "variableName": "AZDATA_NB_VAR_DOCKER_PASSWORD",
                          "type": "sql_password",
                          "userName": "sa",
                          "confirmationRequired": true,
                          "confirmationLabel": "%docker-confirm-sql-password-field%",
                          "defaultValue": "",
                          "required": true
                        },
                        {
                          "label": "%docker-sql-port-field%",
                          "variableName": "AZDATA_NB_VAR_DOCKER_PORT",
                          "type": "number",
                          "defaultValue": "1433",
                          "required": true,
                          "min": 1,
                          "max": 65535
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "requiredTools": [
              {
                "name": "docker"
              }
            ],
            "when": "version=sql2017"
          },
          {
            "dialog": {
              "notebook": "%sql-2019-docker-notebook%",
              "title": "%docker-sql-2019-title%",
              "name": "docker-sql-2019-dialog",
              "tabs": [
                {
                  "title": "",
                  "sections": [
                    {
                      "title": "",
                      "fields": [
                        {
                          "label": "%docker-container-name-field%",
                          "variableName": "AZDATA_NB_VAR_DOCKER_CONTAINER_NAME",
                          "type": "datetime_text",
                          "defaultValue": "SQL2019-",
                          "required": true
                        },
                        {
                          "label": "%docker-sql-password-field%",
                          "variableName": "AZDATA_NB_VAR_DOCKER_PASSWORD",
                          "type": "sql_password",
                          "userName": "sa",
                          "confirmationRequired": true,
                          "confirmationLabel": "%docker-confirm-sql-password-field%",
                          "defaultValue": "",
                          "required": true
                        },
                        {
                          "label": "%docker-sql-port-field%",
                          "variableName": "AZDATA_NB_VAR_DOCKER_PORT",
                          "type": "number",
                          "defaultValue": "1433",
                          "required": true,
                          "min": 1,
                          "max": 65535
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "requiredTools": [
              {
                "name": "docker"
              }
            ],
            "when": "version=sql2019"
          }
        ]
      },
      {
        "name": "sql-bdc",
        "displayIndex": 3,
        "displayName": "%resource-type-sql-bdc-display-name%",
        "description": "%resource-type-sql-bdc-description%",
        "platforms": "*",
        "icon": {
          "light": "./images/sql_bdc.svg",
          "dark": "./images/sql_bdc_inverse.svg"
        },
        "options": [
          {
            "name": "version",
            "displayName": "%version-display-name%",
            "values": [
              {
                "name": "bdc2019",
                "displayName": "%bdc-2019-display-name%"
              }
            ]
          },
          {
            "name": "target",
            "displayName": "%bdc-deployment-target%",
            "values": [
              {
                "name": "new-aks",
                "displayName": "%bdc-deployment-target-new-aks%"
              },
              {
                "name": "existing-aks",
                "displayName": "%bdc-deployment-target-existing-aks%"
              },
              {
                "name": "existing-kubeadm",
                "displayName": "%bdc-deployment-target-existing-kubeadm%"
              },
              {
                "name": "existing-aro",
                "displayName": "%bdc-deployment-target-existing-aro%"
              },
              {
                "name": "existing-openshift",
                "displayName": "%bdc-deployment-target-existing-openshift%"
              }
            ]
          }
        ],
        "providers": [
          {
            "bdcWizard": {
              "type": "new-aks",
              "notebook": "%bdc-2019-aks-notebook%"
            },
            "requiredTools": [
              {
                "name": "kubectl",
                "version": "1.13.0"
              },
              {
                "name": "azure-cli"
              },
              {
                "name": "azdata",
                "version": "20.0.0"
              }
            ],
            "when": "target=new-aks&&version=bdc2019"
          },
          {
            "bdcWizard": {
              "type": "existing-aks",
              "notebook": "%bdc-2019-existing-aks-notebook%"
            },
            "requiredTools": [
              {
                "name": "kubectl",
                "version": "1.13.0"
              },
              {
                "name": "azdata",
                "version": "20.0.0"
              }
            ],
            "when": "target=existing-aks&&version=bdc2019"
          },
          {
            "bdcWizard": {
              "type": "existing-kubeadm",
              "notebook": "%bdc-2019-existing-kubeadm-notebook%"
            },
            "requiredTools": [
              {
                "name": "kubectl",
                "version": "1.13.0"
              },
              {
                "name": "azdata",
                "version": "20.0.0"
              }
            ],
            "when": "target=existing-kubeadm&&version=bdc2019"
          },
          {
            "bdcWizard": {
              "type": "existing-aro",
              "notebook": "%bdc-2019-existing-aro-notebook%"
            },
            "requiredTools": [
              {
                "name": "kubectl",
                "version": "1.13.0"
              },
              {
                "name": "azdata",
                "version": "20.0.0"
              }
            ],
            "when": "target=existing-aro&&version=bdc2019"
          },
          {
            "bdcWizard": {
              "type": "existing-openshift",
              "notebook": "%bdc-2019-existing-openshift-notebook%"
            },
            "requiredTools": [
              {
                "name": "kubectl",
                "version": "1.13.0"
              },
              {
                "name": "azdata",
                "version": "20.0.0"
              }
            ],
            "when": "target=existing-openshift&&version=bdc2019"
          }
        ],
        "agreement": {
          "template": "%bdc-agreement%",
          "links": [
            {
              "text": "%microsoft-privacy-statement%",
              "url": "https://go.microsoft.com/fwlink/?LinkId=853010"
            },
            {
              "text": "%bdc-agreement-bdc-eula%",
              "url": "https://go.microsoft.com/fwlink/?LinkId=2002534"
            },
            {
              "text": "%bdc-agreement-azdata-eula%",
              "url": "https://aka.ms/eula-azdata-en"
            }
          ]
        }
      },
      {
        "name": "sql-windows-setup",
        "displayIndex": 1,
        "displayName": "%resource-type-sql-windows-setup-display-name%",
        "description": "%resource-type-sql-windows-setup-description%",
        "platforms": [
          "win32"
        ],
        "icon": {
          "light": "./images/sql_server_on_windows.svg",
          "dark": "./images/sql_server_on_windows_inverse.svg"
        },
        "options": [
          {
            "name": "version",
            "displayName": "%version-display-name%",
            "values": [
              {
                "name": "sql2019",
                "displayName": "%sql-2019-display-name%"
              },
              {
                "name": "sql2017",
                "displayName": "%sql-2017-display-name%"
              }
            ]
          }
        ],
        "providers": [
          {
            "downloadUrl": "https://go.microsoft.com/fwlink/?linkid=853016",
            "requiredTools": [],
            "when": "version=sql2017"
          },
          {
            "downloadUrl": "https://go.microsoft.com/fwlink/?linkid=866662",
            "requiredTools": [],
            "when": "version=sql2019"
          }
        ]
      },
      {
        "name": "azure-sql-vm",
        "displayName": "%azure-sqlvm-display-name%",
        "description": "%azure-sqlvm-description%",
        "platforms": "*",
        "icon": {
          "light": "./images/azure-sql-vm.svg",
          "dark": "./images/azure-sql-vm.svg"
        },
        "providers": [
          {
            "notebookWizard": {
              "notebook": "./notebooks/azurevm/create-sqlvm.ipynb",
              "runNotebook": false,
              "codeCellInsertionPosition": 4,
              "taskName": "%azure-sqlvm-deploy-dialog-title%",
              "actionText": "%azure-sqlvm-deploy-dialog-action-text%",
              "title": "%azure-sqlvm-deploy-dialog-title%",
              "name": "azure.sqlvm.new.wizard",
              "generateSummaryPage": false,
              "pages": [
                {
                  "title": "",
                  "sections": [
                    {
                      "title": "%azure-sqlvm-azure-account-section-label%",
                      "fields": [
                        {
                          "subscriptionVariableName": "AZDATA_NB_VAR_AZURE_SQLVM_NB_VAR_SUBSCRIPTION",
                          "resourceGroupVariableName": "AZDATA_NB_VAR_AZURE_SQLVM_NB_VAR_RESOURCE_GROUP_NAME",
                          "type": "azure_account",
                          "required": true
                        },
                        {
                          "type": "azure_locations",
                          "label": "%azure-sqlvm-azure-location-label%",
                          "defaultValue": "eastus",
                          "required": true,
                          "locationVariableName": "AZDATA_NB_VAR_AZURE_SQLVM_LOCATION",
                          "displayLocationVariableName": "AZURE_SQLVM_DISPLAY_LOCATION",
                          "locations": [
                            "australiaeast",
                            "australiasoutheast",
                            "brazilsouth",
                            "canadacentral",
                            "canadaeast",
                            "centralindia",
                            "centralus",
                            "eastasia",
                            "eastus",
                            "eastus2",
                            "francecentral",
                            "japaneast",
                            "japanwest",
                            "koreacentral",
                            "koreasouth",
                            "northcentralus",
                            "northeurope",
                            "southcentralus",
                            "southindia",
                            "southeastasia",
                            "uksouth",
                            "ukwest",
                            "westcentralus",
                            "westeurope",
                            "westus",
                            "westus2"
                          ]
                        }
                      ]
                    },
                    {
                      "title": "%azure-sqlvm-vm-information-section-label%",
                      "fields": [
                        {
                          "label": "%azure-sqlvm-image-label%",
                          "variableName": "AZDATA_NB_VAR_AZURE_SQLVM_IMAGE",
                          "type": "options",
                          "defaultValue": "sql2019-ws2019",
                          "required": true,
                          "options":
                          [
                            "SQL2008R2SP3-WS2008R2SP1",
                            "sql2008r2sp3-ws2008r2sp1-byol",
                            "sql2008r2sp3-ws2008r2sp1-byol",
                            "SQL2012SP3-WS2012R2",
                            "SQL2012SP3-WS2012R2-BYOL",
                            "SQL2012SP4-WS2012R2",
                            "SQL2012SP4-WS2012R2-BYOL",
                            "SQL2014SP2-WS2012R2",
                            "SQL2014SP2-WS2012R2-BYOL",
                            "sql2014sp3-ws2012r2",
                            "sql2014sp3-ws2012r2-byol",
                            "SQL2016SP1-WS2012R2",
                            "SQL2016SP1-WS2016",
                            "SQL2016SP1-WS2016-BYOL",
                            "SQL2016SP2-WS2012R2",
                            "SQL2016SP2-WS2016",
                            "SQL2016SP2-WS2016-BYOL",
                            "sql2016sp2-ws2019",
                            "sql2016sp2-ws2019-byol",
                            "SQL2017-RHEL7",
                            "SQL2017-SLES12SP2",
                            "SQL2017-Ubuntu1604",
                            "SQL2017-WS2016",
                            "SQL2017-WS2016-BYOL",
                            "sql2017-ws2019",
                            "sql2017-ws2019-byol",
                            "SQL2019-RHEL7",
                            "sql2019-rhel8",
                            "sql2019-sles12sp5",
                            "SQL2019-Ubuntu1604",
                            "sql2019-ubuntu1804",
                            "SQL2019-WS2016",
                            "sql2019-ws2019",
                            "sql2019-ws2019-byol"
                          ]
                        },
                        {
                          "label": "%azure-sqlvm-image-sku-label%",
                          "variableName": "AZDATA_NB_VAR_AZURE_SQLVM_IMAGE_SKU",
                          "type": "options",
                          "defaultValue": "sqldev",
                          "required": true,
                          "options":
                          [
                            "enterprise",
                            "enterprisedbengineonly",
                            "enterprisedbengineonly-gen2",
                            "sqldev",
                            "standard",
                            "standarddbengineonly",
                            "web"
                          ]
                        },
                        {
                          "label": "%azure-sqlvm-publisher-label%",
                          "variableName": "AZDATA_NB_VAR_AZURE_SQLVM_PUBLISHER",
                          "type": "text",
                          "defaultValue": "MicrosoftSQLServer",
                          "required": true,
                          "enabled": false
                        },
                        {
                          "label": "%azure-sqlvm-vmname-label%",
                          "variableName": "AZDATA_NB_VAR_AZURE_SQLVM_VMNAME",
                          "type": "text",
                          "defaultValue": "",
                          "required": true
                        },
                        {
                          "label": "%azure-sqlvm-vmsize-label%",
                          "variableName": "AZDATA_NB_VAR_AZURE_SQLVM_VMSIZE",
                          "type": "options",
                          "defaultValue": "Standard_DS1_v2",
                          "required": true,
                          "options": [
                            "Standard_DS1_v2",
                            "Standard_D2s_v3",
                            "Standard_B2s",
                            "Standard_B1s",
                            "Standard_B2ms",
                            "Standard_B1ms",
                            "Standard_DS2_v2",
                            "Standard_B4ms",
                            "Standard_D4s_v3",
                            "Standard_DS3_v2",
                            "Standard_D8s_v3"
                          ]
                        }
                      ]
                    },
                    {
                      "title": "%azure-sqlvm-storage-section-lable%",
                      "fields": [
                        {
                          "label": "%azure-sqlvm-storage-accountname-label%",
                          "variableName": "AZDATA_NB_VAR_AZURE_SQLVM_STORAGEACCOUNTNAME",
                          "type": "text",
                          "required": true
                        },
                        {
                          "label": "%azure-sqlvm-storage-sku-label%",
                          "variableName": "AZDATA_NB_VAR_AZURE_SQLVM_STORAGESKU",
                          "type": "options",
                          "defaultValue": "Standard_LRS",
                          "options":[
                            "Standard_LRS",
                            "Standard_GRS",
                            "Standard_RAGRS",
                            "Standard_ZRS",
                            "Premium_LRS",
                            "Premium_ZRS",
                            "Standard_GZRS",
                            "Standard_RAGZRS"
                          ],
                          "required": true
                        }
                      ]
                    },
                    {
                      "title": "%azure-sqlvm-vm-administrator-account-section-label%",
                      "fields": [
                        {
                          "label": "%azure-sqlvm-username-label%",
                          "variableName": "AZDATA_NB_VAR_AZURE_SQLVM_USERNAME",
                          "type": "text",
                          "required": true
                        },
                        {
                          "label": "%azure-sqlvm-password-label%",
                          "variableName": "AZDATA_NB_VAR_AZURE_SQLVM_PASSWORD",
                          "type": "sql_password",
                          "userName": "sa",
                          "confirmationRequired": true,
                          "confirmationLabel": "%azure-sqlvm-password-confirm-label%",
                          "required": true
                        }
                      ]
                    }
                  ]
                }
              ]
            },
            "requiredTools": [
              {
                "name": "azure-cli"
              }
            ],
            "when": true
          }
        ],
        "agreement": {
          "template": "%azure-sqlvm-agreement%",
          "links": [
            {
              "text": "%microsoft-privacy-statement%",
              "url": "https://go.microsoft.com/fwlink/?LinkId=853010"
            },
            {
              "text": "%azure-sqlvm-agreement-sqlvm-eula%",
              "url": "https://go.microsoft.com/fwlink/?LinkId=2002534"
            },
            {
              "text": "%azure-sqlvm-agreement-azdata-eula%",
              "url": "https://aka.ms/eula-azdata-en"
            }
          ]
        }
      }
    ]
  },
  "dependencies": {
    "linux-release-info": "^2.0.0",
    "promisify-child-process": "^3.1.1",
    "sudo-prompt": "9.1.1",
    "vscode-nls": "^4.0.0",
    "yamljs": "^0.3.0"
  },
  "devDependencies": {
    "@types/mocha": "^5.2.5",
    "@types/yamljs": "0.2.30",
    "mocha": "^5.2.0",
    "mocha-junit-reporter": "^1.17.0",
    "mocha-multi-reporters": "^1.1.7",
    "typemoq": "^2.1.0",
    "vscodetestcover": "^1.0.9",
    "should": "^13.2.3"
  }
}
